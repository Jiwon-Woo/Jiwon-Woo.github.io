---
title: NestJS - DTOëŠ” ì™œ classë¡œ ë§Œë“¤ê¹Œ?
date: 2024-01-14
tags:
  - NestJS
  - DTO
---

## ì˜ë¬¸ì  ğŸ¤”

TypeScriptì™€ NestJSë¡œ ê°œë°œí•˜ë˜ ë„ì¤‘, ë¬¸ë“ ê·¸ëŸ° ì˜ë¬¸ì´ ë“¤ì—ˆë‹¤.

_'DTO(Data Transfer Object)ëŠ” ì™œ classë¡œ êµ¬í˜„í•˜ëŠ”ê±¸ê¹Œ..?'_

ê·¸ì € íƒ€ì… ì²´í¬ë¥¼ ìœ„í•´ì„œë¼ë©´ interfaceë‚˜ typeìœ¼ë¡œë„ ê°€ëŠ¥í•œê²Œ ì•„ë‹Œê°€?<br/>
ê·¸ëŸ°ë° ì™œ ë§ì€ ë ˆí¼ëŸ°ìŠ¤ì—ì„œ, ê·¸ë¦¬ê³  ê³µì‹ ë¬¸ì„œì—ì„œë„ classë¡œ DTOë¥¼ êµ¬í˜„í•˜ëŠ” ê±¸ê¹Œ?

<br /><br />

## ğŸ’¡ ê¶ê¸ˆì¦ í•´ê²°..!

ì˜ì™¸ë¡œ ê¶ê¸ˆì¦ì€ ë¹ ë¥´ê²Œ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.. <br/>
ì‹¬ì§€ì–´ ê³µì‹ ë¬¸ì„œì— ê¸°ì¬ ë˜ì–´ ìˆë˜ ë‚´ìš©ì´ì—ˆë˜ ê²ƒ...

> [NestJS DTO vs Interface](https://blog.jh8459.com/2022-06-24-TIL)<br/>
[NestJS ê³µì‹ë¬¸ì„œ - Controllers - Request payloads](https://docs.nestjs.com/controllers#request-payloads)

![slack](./slack.png)

> But first (if you use TypeScript), we need to determine the DTO (Data Transfer Object) schema.
A DTO is an object that defines how the data will be sent over the network.
We could determine the DTO schema by using TypeScript interfaces, or by simple classes.
Interestingly, we recommend using classes here. Why?
Classes are part of the JavaScript ES6 standard, and therefore they are preserved as real entities in the compiled JavaScript.
On the other hand, since TypeScript interfaces are removed during the transpilation, Nest can't refer to them at runtime.
This is important because features such as Pipes enable additional possibilities when they have access to the metatype of the variable at runtime.
<br /><br />TypeScriptë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° DTO ìŠ¤í‚¤ë§ˆë¥¼ ê²°ì •í•´ì•¼ í•©ë‹ˆë‹¤. DTOëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë°ì´í„°ê°€ ì „ì†¡ë˜ëŠ” ë°©ë²•ì„ ì •ì˜í•˜ëŠ” ê°œì²´ì…ë‹ˆë‹¤.
TypeScript Interfaceë‚˜ ê°„ë‹¨í•œ classë¥¼ ì‚¬ìš©í•˜ì—¬ DTO ìŠ¤í‚¤ë§ˆë¥¼ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í¥ë¯¸ë¡­ê²Œë„ ì´ ìƒí™©ì—ì„œëŠ” classë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
classëŠ” JavaScript ES6 í‘œì¤€ì˜ ì¼ë¶€ì´ë¯€ë¡œ JavaScriptë¡œ ì»´íŒŒì¼í•´ë„ ì‹¤ì œ ê°ì²´ë¡œ ë‚¨ì•„ìˆì§€ë§Œ, TypeScript interfaceëŠ” ë³€í™˜ ì¤‘ì— ì œê±°ë˜ë¯€ë¡œ Nestê°€ ëŸ°íƒ€ì„ì— interfaceë¥¼ ì°¸ì¡°í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
Pipeì™€ ê°™ì€ ê¸°ëŠ¥ì€ ëŸ°íƒ€ì„ì— ë³€ìˆ˜ì˜ ë©”íƒ€íƒ€ì…ì— ì ‘ê·¼í•  ìˆ˜ ìˆì„ ë•Œ ìœ ìš©í•˜ë¯€ë¡œ, ëŸ°íƒ€ì„ ì‹œ ì°¸ì¡° ê°€ëŠ¥ ì—¬ë¶€ëŠ” ì¤‘ìš”í•©ë‹ˆë‹¤.
<br /><br />ì¶œì²˜: [NestJS ê³µì‹ ë¬¸ì„œ](https://docs.nestjs.com/controllers#request-payloads)

<br />

classëŠ” ì»´íŒŒì¼ ì´í›„ì—ë„ ë‚¨ì•„ìˆì–´ ëŸ°íƒ€ì„ì—ë„ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ DTOë¥¼ classë¡œ êµ¬í˜„í•˜ëŠ” í•µì‹¬ì ì¸ ì´ìœ ì˜€ë‹¤.<br/>
DTOëŠ” ë°ì´í„° ì „ì†¡ì— ì“°ëŠ” ê°ì²´ì¸ ë§Œí¼ ë°ì´í„° íƒ€ì…ì´ë‚˜ ê°’ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²½ìš°ê°€ ë§ì€ë°, ì´ë¥¼ ìœ„í•´ì„œëŠ” ëŸ°íƒ€ì„ì—ë„ DTOì— ì ‘ê·¼í•  ìˆ˜ ìˆì–´ì•¼í•œë‹¤...!

<br />

```typescript
export class CreateMeetupDto {
  @ApiProperty({
    description: 'ì´ë²¤íŠ¸ ì œëª© (ìµœëŒ€ 50ì)',
    minLength: 1,
    maxLength: 50,
  })
  @Transform((params) =>
    typeof params.value === 'string' ? params.value.trim() : params.value
  )
  @IsString()
  @IsNotEmpty()
  @MaxLength(50)
  title: string;

  @ApiProperty({
    description: 'ì´ë²¤íŠ¸ ì„¤ëª… (ìµœëŒ€ 255ì)',
    minLength: 1,
    maxLength: 255,
  })
  @IsString()
  @Transform((params) => params.value.trim())
  @IsNotEmpty()
  @MaxLength(255)
  description: string;
}
```

<br />

ìœ„ëŠ” ë‚´ê°€ ì‹¤ì œë¡œ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” DTO ì¤‘ í•˜ë‚˜ë‹¤.<br/>
í•´ë‹¹ DTOì—ì„œë„ `@IsString()`, `@IsNotEmpty()`, `@MaxLength(255)` ë“±ì„ í™œìš©í•˜ì—¬ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

<br /><br />

## íƒ€ì…ê³¼ ê°’ êµ¬ë¶„í•˜ê¸°
> ì°¸ê³ : ì´í™í‹°ë¸Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ - ì•„ì´í…œ 8 íƒ€ì… ê³µê°„ê³¼ ê°’ ê³µê°„ì˜ ì‹¬ë²Œ êµ¬ë¶„í•˜ê¸°

[íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ í”Œë ˆì´ê·¸ë¼ìš´ë“œ](https://www.typescriptlang.org/ko/play)ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë³€í™˜í•œ ê²°ê³¼ë¬¼ì„ ë³´ì—¬ì¤€ë‹¤.<br/>
ì»´íŒŒì¼ ê³¼ì •ì—ì„œ íƒ€ì…ì€ ì œê±°ë˜ê¸° ë•Œë¬¸ì—, ì‚¬ë¼ì§€ëŠ” ê²ƒì´ ìˆë‹¤ë©´ íƒ€ì…ì¼ ê²ƒì´ë‹¤.

![playground](./playground.png)

typeê³¼ interface ì˜ˆì•½ì–´ë¥¼ ì´ìš©í•˜ì—¬ ì„ ì–¸í•˜ë©´ íƒ€ì…ì´ ë˜ê³ , classë‚˜ const, letë¡œ ì„ ì–¸í•˜ë©´ ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.<br/>
íŠ¹íˆ, classì™€ enumì€ ìƒí™©ì— ë”°ë¼ íƒ€ì…ê³¼ ê°’ì´ ì „ë¶€ ê°€ëŠ¥í•œ ì˜ˆì•½ì–´ì´ë‹¤.