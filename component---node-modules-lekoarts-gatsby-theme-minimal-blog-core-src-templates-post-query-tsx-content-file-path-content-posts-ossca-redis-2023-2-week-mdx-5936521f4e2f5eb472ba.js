"use strict";(self.webpackChunkminimal_blog=self.webpackChunkminimal_blog||[]).push([[937],{4765:function(e,t,n){n.d(t,{F:function(){return p},Z:function(){return d}});var l=n(7294),a=n(8733),r=n(795),i=n(8377),c=n(6799),o=n(8871);var m=e=>{let{post:t}=e;return null};const s=["16px","8px","4px"].map((e=>`rgba(0, 0, 0, 0.1) 0px ${e} ${e} 0px`));var u=e=>{let{data:{post:t},children:n}=e;return(0,a.tZ)(i.Z,null,(0,a.tZ)(r.X6,{as:"h1",variant:"styles.h1"},t.title),(0,a.tZ)("p",{sx:{color:"secondary",mt:3,a:{color:"secondary"},fontSize:[1,1,2]}},(0,a.tZ)("time",null,t.date),t.tags&&(0,a.tZ)(l.Fragment,null," — ",(0,a.tZ)(c.Z,{tags:t.tags})),t.timeToRead&&" — ",t.timeToRead&&(0,a.tZ)("span",null,t.timeToRead," min read")),(0,a.tZ)("section",{sx:{my:5,".gatsby-resp-image-wrapper":{my:[4,4,5],borderRadius:"4px",boxShadow:s.join(", "),".gatsby-resp-image-image":{borderRadius:"4px"}},variant:"layout.content"}},n),(0,a.tZ)(m,{post:t}))};const p=e=>{var t,n,l;let{data:{post:r}}=e;return(0,a.tZ)(o.Z,{title:r.title,description:r.description?r.description:r.excerpt,image:r.banner?null===(t=r.banner)||void 0===t||null===(n=t.childImageSharp)||void 0===n||null===(l=n.resize)||void 0===l?void 0:l.src:void 0,pathname:r.slug,canonicalUrl:r.canonicalUrl})};function d(e){let{...t}=e;return l.createElement(u,t)}},6799:function(e,t,n){var l=n(8733),a=n(7294),r=n(1883),i=n(3494),c=n(9706);t.Z=e=>{let{tags:t}=e;const{tagsPath:n,basePath:o}=(0,i.Z)();return(0,l.tZ)(a.Fragment,null,t.map(((e,t)=>(0,l.tZ)(a.Fragment,{key:e.slug},!!t&&", ",(0,l.tZ)(r.Link,{sx:e=>{var t;return{...null===(t=e.styles)||void 0===t?void 0:t.a}},to:(0,c.Z)(`/${o}/${n}/${e.slug}`)},e.name)))))}},8871:function(e,t,n){var l=n(7294),a=n(1883),r=n(4232);t.Z=e=>{let{title:t="",description:n="",pathname:i="",image:c="",children:o=null,canonicalUrl:m=""}=e;const s=(0,r.Z)(),{siteTitle:u,siteTitleAlt:p,siteUrl:d,siteDescription:g,siteImage:E,author:h,siteLanguage:b}=s,f={title:t?`${t} | ${u}`:p,description:n||g,url:`${d}${i||""}`,image:`${d}${c||E}`};return l.createElement(l.Fragment,null,l.createElement("html",{lang:b}),l.createElement("title",null,f.title),l.createElement("meta",{name:"description",content:f.description}),l.createElement("meta",{name:"image",content:f.image}),l.createElement("meta",{property:"og:title",content:f.title}),l.createElement("meta",{property:"og:url",content:f.url}),l.createElement("meta",{property:"og:description",content:f.description}),l.createElement("meta",{property:"og:image",content:f.image}),l.createElement("meta",{property:"og:type",content:"website"}),l.createElement("meta",{property:"og:image:alt",content:f.description}),l.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),l.createElement("meta",{name:"twitter:title",content:f.title}),l.createElement("meta",{name:"twitter:url",content:f.url}),l.createElement("meta",{name:"twitter:description",content:f.description}),l.createElement("meta",{name:"twitter:image",content:f.image}),l.createElement("meta",{name:"twitter:image:alt",content:f.description}),l.createElement("meta",{name:"twitter:creator",content:h}),l.createElement("meta",{name:"gatsby-theme",content:"@lekoarts/gatsby-theme-minimal-blog"}),l.createElement("link",{rel:"icon",type:"image/png",sizes:"32x32",href:(0,a.withPrefix)("/favicon-32x32.png")}),l.createElement("link",{rel:"icon",type:"image/png",sizes:"16x16",href:(0,a.withPrefix)("/favicon-16x16.png")}),l.createElement("link",{rel:"apple-touch-icon",sizes:"180x180",href:(0,a.withPrefix)("/apple-touch-icon.png")}),m?l.createElement("link",{rel:"canonical",href:m}):null,o)}},6652:function(e,t,n){n.r(t),n.d(t,{Head:function(){return c.F},default:function(){return o}});var l=n(7294),a=n(1151);function r(e){const t=Object.assign({h3:"h3",span:"span",blockquote:"blockquote",p:"p",a:"a",pre:"pre",code:"code",ul:"ul",li:"li",h5:"h5"},(0,a.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(t.h3,null,"진행 환경"),"\n",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 40.416666666666664%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABj0lEQVR42m2SPU/CUBSGGZ38B+7+BxcHf4GLMXFz09HEmdFJR8NowmAcDRhJ0BgQEQGVb6V8tZTS249bSlvC9npa0EhgeO5t7z15z5v3npCpjxGg/cemM8JwoKkWBn0NsqQSjL4ZFFkjdBhB3XiB0N+P5YGbbiDCuRucjbgHodlDPJbA0+MzctkiioUyPooVFPKloBmn+gVBgxxZpgO1KuJTUPHVIgcNBbpiBQ3UgYFuWwYbcuhsFOw+qmKudsgtB4OWifTOLQrhNGoPFTQvYujdZDFypuiRWDaTxzs5awvSHBHtlrRacOx4qGb6OFlPIrLxhvJREvW9KEqnKXC663eHqFeb6JDAbww+lukuic0cUgZDmWN/6xqboSscr2VxFmogdS7BnXroCHLg7vUlj7t4Aon7JITvLmxrstqhzmyMbQ/5XAOHB5fY3Y4iEq6BsVngfm6SqKDTFqEMNHLaI0T0JcpZW/Eo/uJ3cuwJCbtUZMCd2FQ4HyHamWrSQxgY0SQYJKIOdRobBkO3lhz+AGVbPxx1Fzi7AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="진행 환경"\n        title=""\n        src="/static/951506653edf79107f4c8d0143d7bfbc/7d769/my-mac.png"\n        srcset="/static/951506653edf79107f4c8d0143d7bfbc/5243c/my-mac.png 240w,\n/static/951506653edf79107f4c8d0143d7bfbc/ab158/my-mac.png 480w,\n/static/951506653edf79107f4c8d0143d7bfbc/7d769/my-mac.png 960w,\n/static/951506653edf79107f4c8d0143d7bfbc/2810f/my-mac.png 1156w"\n        sizes="(max-width: 960px) 100vw, 960px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",l.createElement(t.h3,null,"Redis 빌드"),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,"Redis 리포지토리 : ",l.createElement(t.a,{href:"https://github.com/redis/redis"},"https://github.com/redis/redis")),"\n"),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"git clone https://github.com/redis/redis\n")),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"cd redis\n")),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"make\n")),"\n",l.createElement(t.h3,null,"Redis 테스트"),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"make test\n")),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"빌드를 완료하면 ",l.createElement(t.code,null,"make test")," 명령어를 통해 Redis의 자체 테스트를 실행"),"\n"),"\n",l.createElement(t.h3,null,"Redis 테스트시 만난 에러"),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"!!! WARNING The following tests failed:\n\n*** [err]: Test HINCRBYFLOAT for correct float representation (issue #2846) in tests/unit/type/hash.tcl\nExpected [r hincrbyfloat myhash float 1.23] eq {1.23} (context: type eval line 3 cmd {assert {[r hincrbyfloat myhash float 1.23] eq {1.23}}} proc ::test)\nCleanup: may take some time... OK\nmake[1]: *** [test] Error 1\nmake: *** [test] Error 2\n")),"\n",l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 790px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 56.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxUlEQVR42m1SV7LbMAzUMZ7tyYhipwpVre6XcXL/M21AShm9lA/MgiSwxAJIfFFi2V6o6hZcKHx7PMAYw4Pwdrv93z6+4Md1vt/vSKwxcNYiYuHgtISvKygjwThDJjJkhDygYJd/4nWfIU1TJEobCCHBZQZbKuhCwngFV2uYUiOPqGB98A2UlZCKUzyHNAJSi3gWZEFZYoyFUjo+mIKIKg1LFnxbqcsvD18qEYmUkxD69C0ZYSTUVKGUKgaG37WjKik4JOhcXn5ASgrSgh2yybLfyP4kFCRB5womkOQiEpizBZG4JEJC64/KnT9aEXJC5VyQ5DQQkuRYoRQoWwfb5Ch6D9s5VE0B35V0X6AZPZqnR+5zwhK2MPR5UJbF4YWBfOkhVcg5yipHN87Yvv/E/uONbdkxDRO6rsM4ThieT3TNgHlcMM4rWrovixx1XaPvB0iuaW1sHociwoqwDC09bvuOdZ0wTiP6oUfbthiGgRJ9JG+bioip0raiaR/FCCFifmIdEWoiDDuVcUpoMa07Ku/wIuL3+439xGWesX5+4rn0eG0NumeDlEgYyb0kW0d9oHWQDFocow8TC9ML/t+WnnbE/RvzCwIfQJZ7vmSpAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="error"\n        title=""\n        src="/static/d7d5708f95633d7e0452b6f6465dcfe6/ff2de/error.png"\n        srcset="/static/d7d5708f95633d7e0452b6f6465dcfe6/5243c/error.png 240w,\n/static/d7d5708f95633d7e0452b6f6465dcfe6/ab158/error.png 480w,\n/static/d7d5708f95633d7e0452b6f6465dcfe6/ff2de/error.png 790w"\n        sizes="(max-width: 790px) 100vw, 790px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,l.createElement(t.code,null,"tests/unit/type/hash.tcl")," 의 ",l.createElement(t.code,null,"Test HINCRBYFLOAT for correct float representation (issue #2846)")," 테스트가 실패"),"\n",l.createElement(t.li,null,"해당 테스트는 부동소수점 정밀도에 관한 테스트"),"\n"),"\n",l.createElement(t.h3,null,"에러 관련 이슈"),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,l.createElement(t.a,{href:"https://github.com/redis/redis/issues/2846"},"Float formatting changed in unstable #2846")),"\n"),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,l.createElement(t.a,{href:"https://github.com/redis/redis/issues/3768"},'"Test HINCRBYFLOAT for correct float representation" failing on non x86 architectures #3768')),"\n"),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,l.createElement(t.a,{href:"https://github.com/redis/redis/issues/4537"},"redis make test fails on bash on windows #4537")),"\n"),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"CPU 아키텍처나 플랫폼마다 부동 소수점 정밀도가 달라질 수 있기 때문에, 해당 테스트는 x86이 아닌 플랫폼에서는 건너뛰도록 설계"),"\n",l.createElement(t.li,null,"그러나, Linux/x86_64과 크게 구분되지 않는 환경에서 스킵이 안되는 문제 발생"),"\n",l.createElement(t.li,null,"아래 명령어로 문제가 있는 테스트 개별 실행시에는 문제 없이 통과됨","\n",l.createElement(t.pre,null,l.createElement(t.code,null,'./runtest --single unit/type/hash --only "Test HINCRBYFLOAT for correct float representation*"\n')),"\n"),"\n",l.createElement(t.li,null,"가장 마지막 이슈는 해결되지 않은 채 open되어 있음"),"\n"),"\n",l.createElement(t.h3,null,"Docker로 Linux 컨테이너 만들어 Redis 빌드 및 테스트"),"\n",l.createElement(t.h5,null,"Linux 컨테이너 생성"),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"docker run -itd --name <컨테이너 이름> ubuntu\n")),"\n",l.createElement(t.h5,null,"Linux 컨테이너 접속 및 쉘 실행"),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"docker exec -it <컨테이너 이름> sh\n")),"\n",l.createElement(t.h5,null,"apt-get 업데이트"),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"apt-get update\n")),"\n",l.createElement(t.h5,null,"필요한 패키지 install"),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"apt-get install -y git && apt-get install -y make && apt-get install -y gcc && apt-get install -y pkg-config && apt-get install -y tclsh\n")),"\n",l.createElement(t.h5,null,"Redis 빌드"),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"make MALLOC=libc\n")),"\n",l.createElement(t.ul,null,"\n",l.createElement(t.li,null,"Linux 시스템에서는 jemalloc이 메모리 할당자의 기본값으로 사용된다. 하지만 Redis의 메모리 할당자를 jemalloc으로 하여 빌드하면, 이유는 모르겠지만 수많은 ",l.createElement(t.code,null,"warning"),"과 ",l.createElement(t.code,null,"error"),"를 마주할 수 있다. 이 상황을 회피하고 싶다면, 위 명령어를 통해 Redis 메모리 할당자를 강제로 libc malloc으로 설정할 수 있다."),"\n"),"\n",l.createElement(t.h5,null,"Redis 테스트"),"\n",l.createElement(t.pre,null,l.createElement(t.code,null,"make test\n")))}var i=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.ah)(),e.components);return t?l.createElement(t,e,l.createElement(r,e)):r(e)},c=n(4765);function o(e){return l.createElement(c.Z,e,l.createElement(i,e))}c.Z}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-ossca-redis-2023-2-week-mdx-5936521f4e2f5eb472ba.js.map