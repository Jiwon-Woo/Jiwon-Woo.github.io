"use strict";(self.webpackChunkminimal_blog=self.webpackChunkminimal_blog||[]).push([[334],{4765:function(e,t,n){n.d(t,{F:function(){return p},Z:function(){return E}});var l=n(7294),r=n(8733),a=n(795),c=n(8377),o=n(6799),i=n(8871);var m=e=>{let{post:t}=e;return null};const s=["16px","8px","4px"].map((e=>`rgba(0, 0, 0, 0.1) 0px ${e} ${e} 0px`));var u=e=>{let{data:{post:t},children:n}=e;return(0,r.tZ)(c.Z,null,(0,r.tZ)(a.X6,{as:"h1",variant:"styles.h1"},t.title),(0,r.tZ)("p",{sx:{color:"secondary",mt:3,a:{color:"secondary"},fontSize:[1,1,2]}},(0,r.tZ)("time",null,t.date),t.tags&&(0,r.tZ)(l.Fragment,null," â€” ",(0,r.tZ)(o.Z,{tags:t.tags})),t.timeToRead&&" â€” ",t.timeToRead&&(0,r.tZ)("span",null,t.timeToRead," min read")),(0,r.tZ)("section",{sx:{my:5,".gatsby-resp-image-wrapper":{my:[4,4,5],borderRadius:"4px",boxShadow:s.join(", "),".gatsby-resp-image-image":{borderRadius:"4px"}},variant:"layout.content"}},n),(0,r.tZ)(m,{post:t}))};const p=e=>{var t,n,l;let{data:{post:a}}=e;return(0,r.tZ)(i.Z,{title:a.title,description:a.description?a.description:a.excerpt,image:a.banner?null===(t=a.banner)||void 0===t||null===(n=t.childImageSharp)||void 0===n||null===(l=n.resize)||void 0===l?void 0:l.src:void 0,pathname:a.slug,canonicalUrl:a.canonicalUrl})};function E(e){let{...t}=e;return l.createElement(u,t)}},6799:function(e,t,n){var l=n(8733),r=n(7294),a=n(1883),c=n(3494),o=n(9706);t.Z=e=>{let{tags:t}=e;const{tagsPath:n,basePath:i}=(0,c.Z)();return(0,l.tZ)(r.Fragment,null,t.map(((e,t)=>(0,l.tZ)(r.Fragment,{key:e.slug},!!t&&", ",(0,l.tZ)(a.Link,{sx:e=>{var t;return{...null===(t=e.styles)||void 0===t?void 0:t.a}},to:(0,o.Z)(`/${i}/${n}/${e.slug}`)},e.name)))))}},8871:function(e,t,n){var l=n(7294),r=n(1883),a=n(4232);t.Z=e=>{let{title:t="",description:n="",pathname:c="",image:o="",children:i=null,canonicalUrl:m=""}=e;const s=(0,a.Z)(),{siteTitle:u,siteTitleAlt:p,siteUrl:E,siteDescription:d,siteImage:g,author:h,siteLanguage:b}=s,f={title:t?`${t} | ${u}`:p,description:n||d,url:`${E}${c||""}`,image:`${E}${o||g}`};return l.createElement(l.Fragment,null,l.createElement("html",{lang:b}),l.createElement("title",null,f.title),l.createElement("meta",{name:"description",content:f.description}),l.createElement("meta",{name:"image",content:f.image}),l.createElement("meta",{property:"og:title",content:f.title}),l.createElement("meta",{property:"og:url",content:f.url}),l.createElement("meta",{property:"og:description",content:f.description}),l.createElement("meta",{property:"og:image",content:f.image}),l.createElement("meta",{property:"og:type",content:"website"}),l.createElement("meta",{property:"og:image:alt",content:f.description}),l.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),l.createElement("meta",{name:"twitter:title",content:f.title}),l.createElement("meta",{name:"twitter:url",content:f.url}),l.createElement("meta",{name:"twitter:description",content:f.description}),l.createElement("meta",{name:"twitter:image",content:f.image}),l.createElement("meta",{name:"twitter:image:alt",content:f.description}),l.createElement("meta",{name:"twitter:creator",content:h}),l.createElement("meta",{name:"gatsby-theme",content:"@lekoarts/gatsby-theme-minimal-blog"}),l.createElement("link",{rel:"icon",type:"image/png",sizes:"32x32",href:(0,r.withPrefix)("/favicon-32x32.png")}),l.createElement("link",{rel:"icon",type:"image/png",sizes:"16x16",href:(0,r.withPrefix)("/favicon-16x16.png")}),l.createElement("link",{rel:"apple-touch-icon",sizes:"180x180",href:(0,r.withPrefix)("/apple-touch-icon.png")}),m?l.createElement("link",{rel:"canonical",href:m}):null,i)}},6039:function(e,t,n){n.r(t),n.d(t,{Head:function(){return o.F},default:function(){return i}});var l=n(7294),r=n(1151);function a(e){const t=Object.assign({h3:"h3",pre:"pre",code:"code",p:"p",h2:"h2",strong:"strong",h4:"h4",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",blockquote:"blockquote",a:"a"},(0,r.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(t.h3,null,"NestJS - main.ts"),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-ts"},"import { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\nimport { Logger } from '@nestjs/common';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n\n  ...\n\n  // cors ì„¤ì •\n  app.enableCors({\n    origin: [process.env.FRONT_URL],\n    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS',\n    credentials: true,\n  });\n\n  // cookie ì„¤ì •\n  app.use(cookieParser());\n\n  ...\n\n  const port = process.env.BACK_PORT || 9999;\n  await app.listen(port);\n  Logger.log(`Server running on ${port}`);\n}\nbootstrap();\n")),"\n",l.createElement("br"),"\n",l.createElement(t.h3,null,"Cookie"),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-bash"},"npm install cookie-parser @types/cookie-parser\n")),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-ts"},"app.use(cookieParser());\n")),"\n",l.createElement(t.p,null,"ë‹¤ìŒê³¼ ê°™ì´ ",l.createElement(t.code,null,"cookie-parser")," íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë°›ê³  ì¿ í‚¤ ì„¤ì •ì„ í•´ì£¼ë©´, ë¸Œë¼ìš°ì €ë¡œë¶€í„° ë°›ì€ ì¿ í‚¤ë¥¼ ë¶„ì„í•  ìˆ˜ ìˆê²Œ ëœë‹¤."),"\n",l.createElement(t.p,null,"ë§Œì•½ í”„ë¡ì‹œ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ì—¬ CORS ì„¤ì •ì„ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ë‹¤ë©´, ìœ„ì˜ ë‘ì¤„ë§Œìœ¼ë¡œ ì¿ í‚¤ë¥¼ ì“¸ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë‚˜ ë§Œì•½ CORS ì„¤ì •ì„ í•´ì£¼ì—ˆë‹¤ë©´, ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì¶”ê°€ì ì¸ ì˜µì…˜ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤."),"\n",l.createElement("br"),"\n",l.createElement(t.h3,null,"CORS"),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-ts"},"app.enableCors({\n  origin: [process.env.FRONT_URL],\n  methods: 'GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS',\n  credentials: true,\n});\n")),"\n",l.createElement(t.p,null,"ì‚¬ì‹¤ ì˜µì…˜ì—†ì´ ",l.createElement(t.code,null,"app.enableCors()")," ë§Œ ì‚¬ìš©í•´ë„ CORS ì—ëŸ¬ ìì²´ëŠ” í•´ê²°ì´ ê°€ëŠ¥í•˜ë‹¤."),"\n",l.createElement(t.p,null,"í•˜ì§€ë§Œ ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë˜ ì¿ í‚¤ ì‚¬ìš©ì„ ìœ„í•´ ",l.createElement(t.code,null,"origin")," ê³¼ ",l.createElement(t.code,null,"credentials")," ì˜µì…˜ì„ ì‚¬ìš©í•´ì£¼ì—ˆë‹¤. ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ",l.createElement(t.code,null,"credential")," ì€ ",l.createElement(t.code,null,"true")," ë¡œ í•´ì£¼ê³ , ",l.createElement(t.code,null,"origin")," ì€ ì¿ í‚¤ë¥¼ ë°›ì•„ì˜¬ ì£¼ì†Œë¥¼ ì ì–´ì¤€ë‹¤."),"\n",l.createElement(t.p,null,l.createElement(t.code,null,"origin")," ì˜µì…˜ì€ ë°°ì—´ë„ ê°€ëŠ¥í•˜ë¯€ë¡œ, ì—¬ëŸ¬ ì£¼ì†Œë¥¼ í•œë²ˆì— ë„£ì„ ìˆ˜ë„ ìˆë‹¤. ë‹¤ë§Œ ì£¼ì˜í•  ì ì€ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” '*'ë¡œ ì„¤ì •í•´ì„  ì•ˆëœë‹¤ëŠ” ì ì´ë‹¤. ê·¸ ì´ìœ ëŠ” ì•„ë˜ì— ê¸°ìˆ í•œë‹¤."),"\n",l.createElement("br"),"\n",l.createElement(t.h3,null,"withCredentials"),"\n",l.createElement(t.p,null,"ë§ˆì§€ë§‰ìœ¼ë¡œ í”„ë¡ íŠ¸ì—ì„œë„ ë°±ì—”ë“œì— ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” api, ì¦‰ ì¸ì¦ì •ë³´ë¥¼ í¬í•¨í•œ ìš”ì²­ì„ í•  ë•Œë§ˆë‹¤ ",l.createElement(t.code,null,"withCredentials")," ì˜µì…˜ì„ ì‚¬ìš©í•´ì•¼í•œë‹¤. (ì„œë²„ ì„¤ì • ë‹¤í•´ë‘ê³  ì´ê±¸ ì•ˆí•´ì¤˜ì„œ ì‚½ì§ˆí•œ ê¸°ì–µì´ ìˆë‹¤...)"),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-ts"},'...\n\nawait axios\n  .post(\n    "/api/users/me",\n    {\n      ...\n    },\n    { withCredentials: true }\n  )\n\n...\n')),"\n",l.createElement("br"),"\n",l.createElement("br"),"\n",l.createElement(t.h2,null,"CORS ë™ì‘ ì‹œë‚˜ë¦¬ì˜¤"),"\n",l.createElement(t.p,null,"CORSì˜ ë™ì‘ ë°©ì‹ì€ 3ê°€ì§€ê°€ ìˆë‹¤.\nê·¸ ì¤‘ ìœ„ì—ì„œ ì„œìˆ í•œ cookieì™€ ê°™ì´ ì¸ì¦ ì •ë³´ê°€ í¬í•¨ëœ ìš”ì²­ì€ 3ê°€ì§€ ì¤‘ ",l.createElement(t.strong,null,"Credentialed Request"),"ì™€ ê´€ë ¨ì´ ê¹Šë‹¤.\n3ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê°„ë‹¨íˆ ì†Œê°œí•˜ê² ë‹¤."),"\n",l.createElement("br"),"\n",l.createElement(t.h4,null,"Preflight Request"),"\n",l.createElement(t.p,null,"ì›¹ê°œë°œì„ í• ë•Œ ê°€ì¥ ë§ì´ ë§Œë‚˜ê²Œ ë˜ëŠ” ë°©ì‹ì´ë‹¤.\ní•´ë‹¹ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ë¸Œë¼ìš°ì €ëŠ” ë³¸ ìš”ì²­ì„ ë°”ë¡œ ë³´ë‚´ì§€ ì•Šê³  ë¸Œë¼ìš°ì €ê°€ ì˜ˆë¹„ ìš”ì²­ì„ ë³´ë‚´ ìŠ¤ìŠ¤ë¡œ ì•ˆì „í•œ ìš”ì²­ì¸ì§€ í™•ì¸í•œ í›„ ë³¸ ìš”ì²­ì„ ë³´ë‚¸ë‹¤. ì˜ˆë¹„ ìš”ì²­ì€ http ë©”ì†Œë“œ ì¤‘ ",l.createElement(t.code,null,"OPTIONS")," ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•œë‹¤. ì´ë•Œ ì˜ˆë¹„ ìš”ì²­ì˜ ì„±ê³µì—¬ë¶€ë³´ë‹¨ ì‘ë‹µ í—¤ë”ì˜ ",l.createElement(t.code,null,"Access-Control-Allow-Origin")," ê°’ì´ ë” ì¤‘ìš”í•˜ë‹¤."),"\n",l.createElement("br"),"\n",l.createElement(t.h4,null,"Simple Request"),"\n",l.createElement(t.p,null,"í•´ë‹¹ ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì˜ˆë¹„ ìš”ì²­ ì—†ì´ ë³¸ ìš”ì²­ì„ ë°”ë¡œ ë³´ë‚¸ ë‹¤ìŒ ë¸Œë¼ìš°ì €ê°€ ",l.createElement(t.code,null,"Access-Control-Allow-Origin")," ì„ ë³´ê³  íŒë‹¨í•˜ëŠ” ë°©ì‹ì´ë‹¤. í•˜ì§€ë§Œ ì´ë ‡ê²Œ ë³¸ ìš”ì²­ì„ ë°”ë¡œ ë³´ë‚´ëŠ” ê²ƒì€ ê½¤ë‚˜ ê¹Œë‹¤ë¡œìš´ ì¡°ê±´ì´ í•„ìš”í•˜ë‹¤."),"\n",l.createElement("br"),"\n",l.createElement(t.h4,null,"Credentialed Request"),"\n",l.createElement(t.p,null,"ë§ˆì§€ë§‰ì€ ì¸ì¦ëœ ìš”ì²­ì— ëŒ€í•œ ì‹œë‚˜ë¦¬ì˜¤ë¡œ, êµì°¨ ì¶œì²˜ í†µì‹ ì—ì„œ ë³´ì•ˆì„ ê°•í™”í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì´ì œê¹Œì§€ ìš°ë¦¬ê°€ ë‹¤ë£¬ cookieë¥¼ ì‚¬ìš©í•  ë•Œ ì“´ë‹¤."),"\n",l.createElement(t.p,null,"ê¸°ë³¸ì ìœ¼ë¡œ ë¸Œë¼ìš°ì €ê°€ ì œê³µí•˜ëŠ” ë¦¬ì†ŒìŠ¤ ìš”ì²­ APIì¸Â ",l.createElement(t.code,null,"XMLHttpRequest")," ê°ì²´ë‚˜Â ",l.createElement(t.code,null,"fetch"),"Â APIëŠ” ë³„ë„ì˜ ì˜µì…˜ ì—†ì´ ë¸Œë¼ìš°ì €ì˜ ì¿ í‚¤ ì •ë³´ë‚˜ ì¸ì¦ê³¼ ê´€ë ¨ëœ í—¤ë”ë¥¼ í•¨ë¶€ë¡œ ìš”ì²­ì— ë‹´ì§€ ì•ŠëŠ”ë‹¤. ì´ë•Œ ìš”ì²­ì— ì¸ì¦ê³¼ ê´€ë ¨ëœ ì •ë³´ë¥¼ ë‹´ì„ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì˜µì…˜ì´Â ",l.createElement(t.code,null,"credentials"),"Â ì´ë‹¤. Â ",l.createElement(t.code,null,"credentials"),"Â ì˜µì…˜ì—ëŠ” 3ê°€ì§€ê°€ ìˆë‹¤."),"\n",l.createElement(t.table,null,l.createElement(t.thead,null,l.createElement(t.tr,null,l.createElement(t.th,{align:"left"},"ì˜µì…˜ ê°’"),l.createElement(t.th,{align:"left"},"ì„¤ëª…"))),l.createElement(t.tbody,null,l.createElement(t.tr,null,l.createElement(t.td,{align:"left"},"same-origin"),l.createElement(t.td,{align:"left"},"ê°™ì€ ì¶œì²˜ ê°„ ìš”ì²­ì—ë§Œ ì¸ì¦ ì •ë³´ë¥¼ ë‹´ì„ ìˆ˜ ìˆë‹¤")),l.createElement(t.tr,null,l.createElement(t.td,{align:"left"},"include"),l.createElement(t.td,{align:"left"},"ëª¨ë“  ìš”ì²­ì— ì¸ì¦ ì •ë³´ë¥¼ ë‹´ì„ ìˆ˜ ìˆë‹¤")),l.createElement(t.tr,null,l.createElement(t.td,{align:"left"},"omit"),l.createElement(t.td,{align:"left"},"ëª¨ë“  ìš”ì²­ì— ì¸ì¦ ì •ë³´ë¥¼ ë‹´ì§€ ì•ŠëŠ”ë‹¤")))),"\n",l.createElement(t.p,null,"ë§Œì•½ same-originì´ë‚˜ includeë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ì— ì¸ì¦ì •ë³´ë¥¼ í¬í•¨í•˜ê²Œ ëœë‹¤ë©´, ë¸Œë¼ìš°ì €ëŠ”  ",l.createElement(t.code,null,"Access-Control-Allow-Origin")," ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ í•­ëª©ë„ ì¢€ ë” ê¹Œë‹¤ë¡­ê²Œ í™•ì¸í•œë‹¤."),"\n",l.createElement(t.p,null,"ìš”ì²­ì— ì¸ì¦ì •ë³´ê°€ ë‹´ê¸¸ ë•Œì—ëŠ” ì„œë²„ì˜ ì‘ë‹µ í—¤ë” ",l.createElement(t.code,null,"Access-Control-Allow-Origin")," í•„ë“œì— ",l.createElement(t.code,null,"*(ì™€ì¼ë“œ ì¹´ë“œ)")," ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ê¸ˆì§€ë˜ë©°, ì–´ë–¤ ì¶œì²˜ë¥¼ í—ˆìš©í•  ê²ƒì¸ì§€ ì •í™•íˆ ëª…ì‹œí•´ë‘ì–´ì•¼í•œë‹¤. ê·¸ë¦¬ê³  ì‘ë‹µ í—¤ë”ì— ë°˜ë“œì‹œÂ ",l.createElement(t.code,null,"Access-Control-Allow-Credentials: true")," ê°€ ì¡´ì¬í•´ì•¼í•œë‹¤."),"\n",l.createElement("br"),"\n",l.createElement(t.h3,null,"ê°„ë‹¨í•œ íšŒê³ "),"\n",l.createElement(t.p,null,"CORS ë™ì‘ ë°©ì‹ì— ëŒ€í•œ ì´ë¡ ì„ ì¢€ ë” ë¹¨ë¦¬ ì•Œì•˜ë”ë¼ë©´, ê·¸ ë•Œ withCredentials ë•Œë¬¸ì— ì‚½ì§ˆí•  ì¼ì€ ì¤„ ì¼ ìˆ˜ ìˆì—ˆì„í…ë°... í•˜ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.\në‹¤ì‹œê¸ˆ CS ì§€ì‹ì— ëŒ€í•œ ì¤‘ìš”ì„±ì„ ê¹¨ë‹«ëŠ”ë‹¤..!"),"\n",l.createElement("br"),"\n",l.createElement(t.h3,null,"ì°¸ê³ "),"\n",l.createElement(t.blockquote,null,"\n",l.createElement(t.p,null,l.createElement(t.a,{href:"https://inpa.tistory.com/entry/AXIOS-%F0%9F%93%9A-CORS-%EC%BF%A0%ED%82%A4-%EC%A0%84%EC%86%A1withCredentials-%EC%98%B5%EC%85%98"},"ğŸª CORS ì¿ í‚¤ ì „ì†¡í•˜ê¸° (withCredentials ì˜µì…˜)"),"\n",l.createElement("br"),l.createElement(t.a,{href:"https://velog.io/@suasue/NestJS-CORS-%EC%84%A4%EC%A0%95"},"NestJS | CORS ì„¤ì •"),"\n",l.createElement("br"),l.createElement(t.a,{href:"https://codegear.tistory.com/78"},"NestJS - 17. ì¿ í‚¤ ë‹¤ë£¨ê¸°(JWTí† í°)"),"\n",l.createElement("br"),l.createElement(t.a,{href:"https://snupi.tistory.com/210"},"[Network] What is CORS"),"\n",l.createElement("br"),l.createElement(t.a,{href:"https://jhyonhyon.tistory.com/39"},"[ë³´ì•ˆ] CORS ë€? CORS ì—ëŸ¬ë€?"),"\n",l.createElement("br"),l.createElement(t.a,{href:"https://evan-moon.github.io/2020/05/21/about-cors/"},"CORSëŠ” ì™œ ì´ë ‡ê²Œ ìš°ë¦¬ë¥¼ í˜ë“¤ê²Œ í•˜ëŠ”ê±¸ê¹Œ?"),"\n",l.createElement("br"),l.createElement(t.a,{href:"https://cornpip.tistory.com/40"},"ì¿ í‚¤(cookie), ì„œë²„ - í´ë¼ì´ì–¸íŠ¸ set-cookie ì—ëŸ¬ ì‚¬í•­ë“¤")),"\n"))}var c=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,r.ah)(),e.components);return t?l.createElement(t,e,l.createElement(a,e)):a(e)},o=n(4765);function i(e){return l.createElement(o.Z,e,l.createElement(c,e))}o.Z}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-together-2-mdx-32158de38bdfa8fec5ff.js.map